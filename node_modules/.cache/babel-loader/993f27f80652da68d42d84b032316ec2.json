{"remainingRequest":"/Users/slowpoke/Git/school-loans/.yarn/$$virtual/babel-loader-virtual-89c64d8d22/0/cache/babel-loader-npm-8.2.2-b4e600c2c5-362bb71573.zip/node_modules/babel-loader/lib/index.js!/Users/slowpoke/Git/school-loans/.yarn/$$virtual/cache-loader-virtual-4f251c9c5a/0/cache/cache-loader-npm-4.1.0-82c3da90d8-2e369f72e3.zip/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/slowpoke/Git/school-loans/.yarn/$$virtual/vue-loader-virtual-18c743efeb/0/cache/vue-loader-npm-15.9.5-092b2add56-7eabaade36.zip/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/slowpoke/Git/school-loans/src/views/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/slowpoke/Git/school-loans/src/views/Login.vue","mtime":1607185585361},{"path":"/Users/slowpoke/Git/school-loans/.yarn/$$virtual/cache-loader-virtual-a65114d6d3/0/cache/cache-loader-npm-4.1.0-82c3da90d8-2e369f72e3.zip/node_modules/cache-loader/dist/cjs.js","mtime":315532800000},{"path":"/Users/slowpoke/Git/school-loans/.yarn/$$virtual/babel-loader-virtual-89c64d8d22/0/cache/babel-loader-npm-8.2.2-b4e600c2c5-362bb71573.zip/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/slowpoke/Git/school-loans/.yarn/$$virtual/cache-loader-virtual-4f251c9c5a/0/cache/cache-loader-npm-4.1.0-82c3da90d8-2e369f72e3.zip/node_modules/cache-loader/dist/cjs.js","mtime":315532800000},{"path":"/Users/slowpoke/Git/school-loans/.yarn/$$virtual/vue-loader-virtual-18c743efeb/0/cache/vue-loader-npm-15.9.5-092b2add56-7eabaade36.zip/node_modules/vue-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgeyBIZWFkaW5nLCBJbnB1dCwgU2VjdGlvbiB9IGZyb20gIi4uL2NvbXBvbmVudHMiOwppbXBvcnQgeyB2YWxpZGF0ZSB9IGZyb20gIi4uL3V0aWxzL2pzIjsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIEhlYWRpbmc6IEhlYWRpbmcsCiAgICBJbnB1dDogSW5wdXQsCiAgICBTZWN0aW9uOiBTZWN0aW9uCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZW1haWw6ICIiLAogICAgICBlbWFpbENvbmZpcm06ICIiLAogICAgICBmb3JtS2luZDogImxvZ2luRm9ybSIsCiAgICAgIGlzSGlkZGVuOiB0cnVlLAogICAgICBpc0xvYWRpbmc6IGZhbHNlLAogICAgICBwYXNzd29yZDogIiIsCiAgICAgIHBhc3N3b3JkQ29uZmlybTogIiIKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBjaGVja0Zvcm06IGZ1bmN0aW9uIGNoZWNrRm9ybShlKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgIHRoaXMuaXNMb2FkaW5nID0gdHJ1ZTsKICAgICAgdmFyIGVtYWlsID0gdGhpcy5lbWFpbCwKICAgICAgICAgIGVtYWlsQ29uZmlybSA9IHRoaXMuZW1haWxDb25maXJtLAogICAgICAgICAgZm9ybUtpbmQgPSB0aGlzLmZvcm1LaW5kLAogICAgICAgICAgcGFzc3dvcmQgPSB0aGlzLnBhc3N3b3JkLAogICAgICAgICAgcGFzc3dvcmRDb25maXJtID0gdGhpcy5wYXNzd29yZENvbmZpcm07CiAgICAgIHZhciBlcnJvcnMgPSBbXTsKCiAgICAgIGlmICghdmFsaWRhdGUoImVtYWlsIiwgZW1haWwpKSB7CiAgICAgICAgZXJyb3JzLnB1c2goIkludmFsaWQgZW1haWwuIik7CiAgICAgIH0gLy8gVmFsaWRhdGlvbiBjaGVja3Mgc3BlY2lmaWMgdG8gdGhlIFNpZ24gVXAgZm9ybQoKCiAgICAgIGlmIChmb3JtS2luZCA9PT0gInNpZ25VcEZvcm0iKSB7CiAgICAgICAgaWYgKHBhc3N3b3JkLmxlbmd0aCA8IDgpIHsKICAgICAgICAgIGVycm9ycy5wdXNoKCJQYXNzd29yZHMgbXVzdCBiZSBhdCBsZWFzdCA4IGNoYXJhY3RlcnMgbG9uZy4iKTsKICAgICAgICB9IGVsc2UgaWYgKHBhc3N3b3JkICE9PSBwYXNzd29yZENvbmZpcm0pIHsKICAgICAgICAgIGVycm9ycy5wdXNoKCJQYXNzd29yZHMgZG9uJ3QgbWF0Y2giKTsKICAgICAgICB9CgogICAgICAgIGlmIChlbWFpbCAhPT0gZW1haWxDb25maXJtKSB7CiAgICAgICAgICBlcnJvcnMucHVzaCgiRW1haWxzIGRvbid0IG1hdGNoLiIpOwogICAgICAgIH0KICAgICAgfSAvLyBJZiB0aGVyZSBhcmUgbm8gdmFsaWRhdGlvbiBlcnJvcnMsIGF0dGVtcHQgdG8gc2lnbiBpbgoKCiAgICAgIGlmICghZXJyb3JzLmxlbmd0aCkgewogICAgICAgIC8vIFNpZ251cCBmb3JtIGFjdGlvbgogICAgICAgIGlmIChmb3JtS2luZCA9PT0gInNpZ25VcEZvcm0iKSB7CiAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgic2lnblVwIiwgewogICAgICAgICAgICBlbWFpbDogZW1haWwsCiAgICAgICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZAogICAgICAgICAgfSk7CiAgICAgICAgfSAvLyBMb2dpbiBmb3JtIGFjdGlvbgoKCiAgICAgICAgaWYgKGZvcm1LaW5kID09PSAibG9naW5Gb3JtIikgewogICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goInNpZ25JbiIsIHsKICAgICAgICAgICAgZW1haWw6IGVtYWlsLAogICAgICAgICAgICBwYXNzd29yZDogcGFzc3dvcmQKICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgICAgICBpZiAoIXJlc3VsdCkgX3RoaXMuaXNMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0gLy8gSWYgdGhlcmUgYXJlIGVycm9ycywgc2hvdyBlYWNoIG9mIHRoZW0uCiAgICAgIGVsc2UgewogICAgICAgICAgZXJyb3JzLmZvckVhY2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgIF90aGlzLiR0b2FzdGVkLnNob3coZXJyb3IsIHsKICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgX3RoaXMuaXNMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICB9LAogICAgb25DbGlja1N3aXRjaGVyOiBmdW5jdGlvbiBvbkNsaWNrU3dpdGNoZXIoZSkgewogICAgICB2YXIgc2VsZWN0ZWRGb3JtID0gZS50YXJnZXQucGFyZW50Tm9kZS5pZDsKCiAgICAgIGlmICh0aGlzLmZvcm1LaW5kICE9PSBzZWxlY3RlZEZvcm0pIHsKICAgICAgICB0aGlzLmlzSGlkZGVuID0gIXRoaXMuaXNIaWRkZW47CiAgICAgICAgdGhpcy5mb3JtS2luZCA9IHNlbGVjdGVkRm9ybTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";AACA,SAAA,OAAA,EAAA,KAAA,EAAA,OAAA,QAAA,eAAA;AACA,SAAA,QAAA,QAAA,aAAA;AAEA,eAAA;AACA,EAAA,UAAA,EAAA;AACA,IAAA,OAAA,EAAA,OADA;AAEA,IAAA,KAAA,EAAA,KAFA;AAGA,IAAA,OAAA,EAAA;AAHA,GADA;AAMA,EAAA,IANA,kBAMA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,EADA;AAEA,MAAA,YAAA,EAAA,EAFA;AAGA,MAAA,QAAA,EAAA,WAHA;AAIA,MAAA,QAAA,EAAA,IAJA;AAKA,MAAA,SAAA,EAAA,KALA;AAMA,MAAA,QAAA,EAAA,EANA;AAOA,MAAA,eAAA,EAAA;AAPA,KAAA;AASA,GAhBA;AAiBA,EAAA,OAAA,EAAA;AACA,IAAA,SADA,qBACA,CADA,EACA;AAAA;;AACA,MAAA,CAAA,CAAA,cAAA;AAEA,WAAA,SAAA,GAAA,IAAA;AAHA,UAKA,KALA,GAKA,IALA,CAKA,KALA;AAAA,UAKA,YALA,GAKA,IALA,CAKA,YALA;AAAA,UAKA,QALA,GAKA,IALA,CAKA,QALA;AAAA,UAKA,QALA,GAKA,IALA,CAKA,QALA;AAAA,UAKA,eALA,GAKA,IALA,CAKA,eALA;AAMA,UAAA,MAAA,GAAA,EAAA;;AAEA,UAAA,CAAA,QAAA,CAAA,OAAA,EAAA,KAAA,CAAA,EAAA;AACA,QAAA,MAAA,CAAA,IAAA,CAAA,gBAAA;AACA,OAVA,CAYA;;;AACA,UAAA,QAAA,KAAA,YAAA,EAAA;AACA,YAAA,QAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,UAAA,MAAA,CAAA,IAAA,CAAA,+CAAA;AACA,SAFA,MAEA,IAAA,QAAA,KAAA,eAAA,EAAA;AACA,UAAA,MAAA,CAAA,IAAA,CAAA,uBAAA;AACA;;AACA,YAAA,KAAA,KAAA,YAAA,EAAA;AACA,UAAA,MAAA,CAAA,IAAA,CAAA,qBAAA;AACA;AACA,OAtBA,CAwBA;;;AACA,UAAA,CAAA,MAAA,CAAA,MAAA,EAAA;AACA;AACA,YAAA,QAAA,KAAA,YAAA,EAAA;AACA,eAAA,MAAA,CAAA,QAAA,CAAA,QAAA,EAAA;AAAA,YAAA,KAAA,EAAA,KAAA;AAAA,YAAA,QAAA,EAAA;AAAA,WAAA;AACA,SAJA,CAKA;;;AACA,YAAA,QAAA,KAAA,WAAA,EAAA;AACA,eAAA,MAAA,CAAA,QAAA,CAAA,QAAA,EAAA;AAAA,YAAA,KAAA,EAAA,KAAA;AAAA,YAAA,QAAA,EAAA;AAAA,WAAA,EAAA,IAAA,CAAA,UAAA,MAAA,EAAA;AACA,gBAAA,CAAA,MAAA,EAAA,KAAA,CAAA,SAAA,GAAA,KAAA;AACA,WAFA;AAGA;AACA,OAXA,CAYA;AAZA,WAaA;AACA,UAAA,MAAA,CAAA,OAAA,CAAA,UAAA,KAAA,EAAA;AACA,YAAA,KAAA,CAAA,QAAA,CAAA,IAAA,CAAA,KAAA,EAAA;AAAA,cAAA,IAAA,EAAA;AAAA,aAAA;;AACA,YAAA,KAAA,CAAA,SAAA,GAAA,KAAA;AACA,WAHA;AAIA;AACA,KA7CA;AA8CA,IAAA,eA9CA,2BA8CA,CA9CA,EA8CA;AACA,UAAA,YAAA,GAAA,CAAA,CAAA,MAAA,CAAA,UAAA,CAAA,EAAA;;AACA,UAAA,KAAA,QAAA,KAAA,YAAA,EAAA;AACA,aAAA,QAAA,GAAA,CAAA,KAAA,QAAA;AACA,aAAA,QAAA,GAAA,YAAA;AACA;AACA;AApDA;AAjBA,CAAA","sourcesContent":["<script>\nimport { Heading, Input, Section } from \"../components\";\nimport { validate } from \"../utils/js\";\n\nexport default {\n  components: {\n    Heading,\n    Input,\n    Section,\n  },\n  data() {\n    return {\n      email: \"\",\n      emailConfirm: \"\",\n      formKind: \"loginForm\",\n      isHidden: true,\n      isLoading: false,\n      password: \"\",\n      passwordConfirm: \"\",\n    };\n  },\n  methods: {\n    checkForm(e) {\n      e.preventDefault();\n\n      this.isLoading = true;\n\n      const { email, emailConfirm, formKind, password, passwordConfirm } = this;\n      const errors = [];\n\n      if (!validate(\"email\", email)) {\n        errors.push(\"Invalid email.\");\n      }\n\n      // Validation checks specific to the Sign Up form\n      if (formKind === \"signUpForm\") {\n        if (password.length < 8) {\n          errors.push(\"Passwords must be at least 8 characters long.\");\n        } else if (password !== passwordConfirm) {\n          errors.push(\"Passwords don't match\");\n        }\n        if (email !== emailConfirm) {\n          errors.push(\"Emails don't match.\");\n        }\n      }\n\n      // If there are no validation errors, attempt to sign in\n      if (!errors.length) {\n        // Signup form action\n        if (formKind === \"signUpForm\") {\n          this.$store.dispatch(\"signUp\", { email, password });\n        }\n        // Login form action\n        if (formKind === \"loginForm\") {\n          this.$store.dispatch(\"signIn\", { email, password }).then((result) => {\n            if (!result) this.isLoading = false;\n          });\n        }\n      }\n      // If there are errors, show each of them.\n      else {\n        errors.forEach((error) => {\n          this.$toasted.show(error, { type: \"error\" });\n          this.isLoading = false;\n        });\n      }\n    },\n    onClickSwitcher(e) {\n      const selectedForm = e.target.parentNode.id;\n      if (this.formKind !== selectedForm) {\n        this.isHidden = !this.isHidden;\n        this.formKind = selectedForm;\n      }\n    },\n  },\n};\n</script>\n\n<template>\n  <div id=\"login\">\n    <Section>\n      <div class=\"login-switcher\">\n        <Heading :class=\"{ active: isHidden }\" id=\"loginForm\">\n          <a @click=\"onClickSwitcher\">Login</a>\n        </Heading>\n        <Heading :class=\"{ active: !isHidden }\" id=\"signUpForm\">\n          <a @click=\"onClickSwitcher\">Sign up</a>\n        </Heading>\n      </div>\n      <form ref=\"form\" @submit=\"checkForm\" novalidate=\"true\" autocomplete=\"true\">\n        <Input\n          autocomplete=\"email\"\n          icon=\"envelope\"\n          name=\"email\"\n          placeholder=\"Email\"\n          type=\"email\"\n          v-model=\"email\"\n        />\n        <Input\n          :isHidden=\"isHidden\"\n          autocomplete=\"email\"\n          icon=\"envelope\"\n          name=\"emailConfirm\"\n          placeholder=\"Confirm Email\"\n          ref=\"emailConfirm\"\n          type=\"email\"\n          v-model=\"emailConfirm\"\n        />\n        <Input\n          :autocomplete=\"{ 'new-password': !isHidden, 'current-password': isHidden }\"\n          icon=\"key\"\n          name=\"password\"\n          placeholder=\"Password\"\n          type=\"password\"\n          v-model=\"password\"\n        />\n        <Input\n          :isHidden=\"isHidden\"\n          autocomplete=\"new-password\"\n          icon=\"key\"\n          name=\"passwordConfirm\"\n          placeholder=\"Confirm Password\"\n          ref=\"passwordConfirm\"\n          type=\"password\"\n          v-model=\"passwordConfirm\"\n        />\n        <Input\n          :isLoading=\"isLoading\"\n          icon=\"sign-in-alt\"\n          :placeholder=\"this.formKind === 'loginForm' ? 'Login' : 'Sign Up'\"\n          type=\"submit\"\n        />\n      </form>\n    </Section>\n  </div>\n</template>\n\n<style lang=\"scss\">\n@import \"../utils/styles/animations\";\n@import \"../utils/styles/palette\";\n@import \"../utils/styles/sizes\";\n\n.login-switcher {\n  margin-bottom: $sizes-m;\n  text-align: center;\n  user-select: none;\n\n  > * {\n    cursor: pointer;\n    display: inline-block;\n    padding: 0 $sizes-xs;\n    transition: $default-transition;\n  }\n\n  .header:not(.active) {\n    color: $text;\n    font-weight: normal;\n  }\n}\n</style>\n"],"sourceRoot":"src/views"}]}