{"remainingRequest":"/Users/austinmeadows/Git/school-loans/.yarn/$$virtual/vue-loader-virtual-675bffbb1e/0/cache/vue-loader-npm-15.9.5-092b2add56-7eabaade36.zip/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/austinmeadows/Git/school-loans/src/views/Dashboard.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/austinmeadows/Git/school-loans/src/views/Dashboard.vue","mtime":1615144647600},{"path":"/Users/austinmeadows/Git/school-loans/.yarn/$$virtual/cache-loader-virtual-ac813ffeb9/0/cache/cache-loader-npm-4.1.0-82c3da90d8-2e369f72e3.zip/node_modules/cache-loader/dist/cjs.js","mtime":315532800000},{"path":"/Users/austinmeadows/Git/school-loans/.yarn/$$virtual/babel-loader-virtual-5e9184f3b1/0/cache/babel-loader-npm-8.2.2-b4e600c2c5-362bb71573.zip/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/austinmeadows/Git/school-loans/.yarn/$$virtual/cache-loader-virtual-ad33d86bba/0/cache/cache-loader-npm-4.1.0-82c3da90d8-2e369f72e3.zip/node_modules/cache-loader/dist/cjs.js","mtime":315532800000},{"path":"/Users/austinmeadows/Git/school-loans/.yarn/$$virtual/vue-loader-virtual-675bffbb1e/0/cache/vue-loader-npm-15.9.5-092b2add56-7eabaade36.zip/node_modules/vue-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBMb2FkaW5nIGZyb20gInZ1ZS1sb2FkaW5nLW92ZXJsYXkiOwppbXBvcnQgInZ1ZS1sb2FkaW5nLW92ZXJsYXkvZGlzdC92dWUtbG9hZGluZy5jc3MiOwoKaW1wb3J0IHsgZGIgfSBmcm9tICIuLi9pbmNsdWRlcy9maXJlYmFzZSI7CmltcG9ydCB7IEhlYWRpbmcsIElucHV0LCBTZWN0aW9uIH0gZnJvbSAiLi4vY29tcG9uZW50cyI7CgpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgSGVhZGluZywKICAgIElucHV0LAogICAgTG9hZGluZywKICAgIFNlY3Rpb24sCiAgfSwKICBjb21wdXRlZDogewogICAgYXV0aCgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmF1dGg7CiAgICB9LAogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGRvbm9yOiBmYWxzZSwKICAgICAgaXNMb2FkaW5nUGFnZTogZmFsc2UsCiAgICAgIGlzTG9hZGluZ0Zvcm06IGZhbHNlLAogICAgICBuYW1lOiAiIiwKICAgICAgc3R1ZGVudDogZmFsc2UsCiAgICB9OwogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuaXNMb2FkaW5nUGFnZSA9IHRydWU7CiAgICBkYi5jb2xsZWN0aW9uKCJ1c2VycyIpCiAgICAgIC5kb2ModGhpcy5hdXRoKQogICAgICAuZ2V0KCkKICAgICAgLnRoZW4oKGRvYykgPT4gewogICAgICAgIC8vIGlmIChkb2MuZXhpc3RzKSB7CiAgICAgICAgLy8gfSBlbHNlIHsKICAgICAgICAvLyB9CiAgICAgICAgdGhpcy5pc0xvYWRpbmdQYWdlID0gZmFsc2U7CiAgICAgICAgcmV0dXJuIGRvYy5leGlzdHM7CiAgICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgc3VibWl0KGUpIHsKICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB0aGlzLmlzTG9hZGluZ0Zvcm0gPSB0cnVlOwoKICAgICAgcmV0dXJuIGRiCiAgICAgICAgLmNvbGxlY3Rpb24oInVzZXJzIikKICAgICAgICAuZG9jKHRoaXMuYXV0aCkKICAgICAgICAuc2V0KAogICAgICAgICAgewogICAgICAgICAgICBuYW1lOiB0aGlzLm5hbWUsCiAgICAgICAgICAgIHR5cGU6ICh0aGlzLmRvbm9yID8gMiA6IDApICsgKHRoaXMuc3R1ZGVudCA/IDEgOiAwKSwKICAgICAgICAgIH0sCiAgICAgICAgICB7IG1lcmdlOiB0cnVlIH0KICAgICAgICApCiAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgdGhpcy5pc0xvYWRpbmdGb3JtID0gZmFsc2U7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKCkgPT4gewogICAgICAgICAgdGhpcy5pc0xvYWRpbmdGb3JtID0gZmFsc2U7CiAgICAgICAgfSk7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["Dashboard.vue"],"names":[],"mappings":";AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Dashboard.vue","sourceRoot":"src/views","sourcesContent":["<script>\nimport Loading from \"vue-loading-overlay\";\nimport \"vue-loading-overlay/dist/vue-loading.css\";\n\nimport { db } from \"../includes/firebase\";\nimport { Heading, Input, Section } from \"../components\";\n\nexport default {\n  components: {\n    Heading,\n    Input,\n    Loading,\n    Section,\n  },\n  computed: {\n    auth() {\n      return this.$store.state.auth;\n    },\n  },\n  data() {\n    return {\n      donor: false,\n      isLoadingPage: false,\n      isLoadingForm: false,\n      name: \"\",\n      student: false,\n    };\n  },\n  created() {\n    this.isLoadingPage = true;\n    db.collection(\"users\")\n      .doc(this.auth)\n      .get()\n      .then((doc) => {\n        // if (doc.exists) {\n        // } else {\n        // }\n        this.isLoadingPage = false;\n        return doc.exists;\n      });\n  },\n  methods: {\n    submit(e) {\n      e.preventDefault();\n      this.isLoadingForm = true;\n\n      return db\n        .collection(\"users\")\n        .doc(this.auth)\n        .set(\n          {\n            name: this.name,\n            type: (this.donor ? 2 : 0) + (this.student ? 1 : 0),\n          },\n          { merge: true }\n        )\n        .then(() => {\n          this.isLoadingForm = false;\n        })\n        .catch(() => {\n          this.isLoadingForm = false;\n        });\n    },\n  },\n};\n</script>\n\n<template>\n  <Section>\n    <loading loader=\"dots\" :active.sync=\"isLoadingPage\"></loading>\n    <p>Welcome to our platform! Let's get you started.</p>\n    <form ref=\"form\" @submit=\"submit\" novalidate=\"true\">\n      <Heading>I am a</Heading>\n      <Input\n        icon=\"user-graduate\"\n        name=\"student\"\n        placeholder=\"Student\"\n        type=\"checkbox\"\n        v-model=\"student\"\n      />\n      <Input\n        icon=\"donate\"\n        name=\"donor\"\n        placeholder=\"Donor\"\n        type=\"checkbox\"\n        v-model=\"donor\"\n      />\n      <Heading>My name is</Heading>\n      <Input\n        icon=\"signature\"\n        name=\"name\"\n        placeholder=\"Name\"\n        type=\"text\"\n        v-model=\"name\"\n      />\n      <Input\n        icon=\"arrow-right\"\n        :isLoading=\"isLoadingForm\"\n        placeholder=\"Continue\"\n        type=\"submit\"\n      />\n    </form>\n  </Section>\n</template>\n"]}]}